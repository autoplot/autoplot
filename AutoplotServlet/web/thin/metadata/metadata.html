<!--
To change this template, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html>
    <head>
        <title></title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <script type="text/javascript" src="binaryajax.js"></script>
        <script type="text/javascript" src="imageinfo.js" ></script>        

    </head>
    <body>
        <H1>Digitizer Demo</H1>
        <p>The goal is to extract the axis metadata from Autoplot images.</p>

        <div style="font:sans-8">20130705_1028</div>
        
        <div id="digitizer" >digitizer</div>
        <script>
            // URL of the image (must be on the same domain!)
            var file = "extractpngmetadata.png";
            var plotInfo=-1;
            // define your own callback function
            function mycallback() {
                plotInfo= ImageInfo.getField(file, "data")['plotInfo'];
            }
            // finally, load the data
            ImageInfo.loadInfo(file, mycallback);
            
            function cross(subEvent) {
                if ( plotInfo!=-1 ) {
                    document.getElementById('digitizer').innerHTML= '' + subEvent.layerX +' '+subEvent.layerY;
                } else {
                    document.getElementById('digitizer').innerHTML= 'moment...';
                }
            }
        </script>
        <img src="extractpngmetadata.png" onclick="cross(event)">
        
    </body>
</html>
